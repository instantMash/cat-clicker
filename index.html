<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Cat Clicker</title>
  <link href="css/styles.css" rel="stylesheet">
</head>
<body>




<div id="cat-box-wrapper" class="cat-box-wrapper">
  <!-- Cat images and counters go here -->
</div>

<div id="cat-button-wrapper" class="cat-button-wrapper">
  <!-- Cat buttons go here -->
</div>

  <script>

// Create Cat prototype.
    function Cat(name, image){
      this.name = name;
      this.image = image;
      this.score = 0;
    }

// Instantiate cat objects.
    var cat1 = new Cat("Theodore", "images/theodore.gif");
    var cat2 = new Cat("Hooty", "images/hooty.gif");
    var cat3 = new Cat("Max", "images/max.gif");
    var cat4 = new Cat("Rosie", "images/rosie.gif");
    var cat5 = new Cat("Terrence", "images/terrence.gif");


// Put the cat objects into an array.
    var cats = [cat1, cat2, cat3, cat4, cat5];

    catDraw = function(cat){

      // Create buttons.
      var catButton = document.createElement("button");
      var catButtonText = document.createTextNode(cat.name);
      catButton.setAttribute("id", cat.name + "-button");
      catButton.classList.add('cat-button');
      catButton.appendChild(catButtonText);

      // Create container div.
      var catBox = document.createElement("div");
      var node = document.createTextNode(""); // Needed to make an empty node for the div to show up. Not sure why.
      catBox.setAttribute("id", cat.name);
      catBox.classList.add("cat-box");
      catBox.appendChild(node);

      // Create cat name header.
      var name = document.createElement("h2");
      var nameText = document.createTextNode(cat.name);
      name.classList.add("cat-name");
      name.appendChild(nameText);

      // Create cat image.
      var catImage = document.createElement("img");
      catImage.setAttribute("src", cat.image);
      catImage.classList.add("cat-image");

      // Create counter.
      var counter = document.createElement("div");
      var counterText = document.createTextNode(cat.score);
      counter.appendChild(counterText);
      counter.setAttribute("id", cat.name + "-score");
      counter.classList.add("click-counter");

      // Append all the elements that we made.
      var buttonWrapper = document.getElementById("cat-button-wrapper");
      var catWrapper = document.getElementById("cat-box-wrapper");
      buttonWrapper.appendChild(catButton);
      catWrapper.appendChild(catBox);
      catBox.appendChild(name);
      catBox.appendChild(catImage);
      catBox.appendChild(counter);

      // Show cats when their buttons are clicked.
      catButton.addEventListener("click", function(){

        // Highlight active cat name
        var removeHighlight = document.getElementsByClassName('cat-button');
        for (i = 0; i < removeHighlight.length; i++){
          removeHighlight[i].classList.remove("active-cat-button");
        }


        catButton.classList.toggle("active-cat-button");

        var removeClass = document.getElementsByClassName("reveal-cat-box");
        for(i = 0; i < removeClass.length; i++){
          removeClass[i].classList.remove("reveal-cat-box");
        }
        catBox.classList.toggle("reveal-cat-box");


      })

      // Increase score when cat image is clicked
      catImage.addEventListener("click", function(){
        cat.score = cat.score + 1;
        counter.innerHTML = cat.score;
      })
    };

    cats.forEach(catDraw);

  </script>

</body>
</html>
